LXI H,2050
MVI B,04
LOP1: MOV C,B
MOV D,H
MOV E,L
INR E
LOP2: LDAX D
CMP M
JNC NUSWP
SWAP: MOV D,M
MOV M,A
MOV A,D
MOV D,H
STAX D
NUSWP: INR E
DCR C
JNZ LOP2
INX H
DCR B
JNZ LOP1
HLT





NOTES:
LXI SP, 9000H
LXI H, 8000H
MOV C, M
DO: INX H
MOV A, M
CALL MIN
CMP M
JZ GO
CALL SWAP
GO: DCR C
JNZ DO
HLT
MIN: PUSH H
PUSH B
DCR C
LOOP: INX H
CMP M
JNC SKIP
MOV A, M
MOV D, H
MOV E, L
SKIP: DCR C
JNZ LOOP
POP B
POP H
RET
SWAP: PUSH PSW
PUSH B
LDAX D
MOV B, A
MOV A, M
STAX D
MOV M, B
POP B
POP PSW
RET
